<div class="tasks-container">
  <!-- ğŸŸ© Formulaire d'ajout -->
  <form (ngSubmit)="addTask()" class="task-form">
    <input
      type="text"
      [(ngModel)]="newTitle"
      name="title"
      placeholder="Titre de la tÃ¢che"
      required
    />

    <input
      type="date"
      [(ngModel)]="newDue"
      name="due"
      placeholder="Date"
    />

    <input
      type="text"
      [(ngModel)]="newNotes"
      name="notes"
      placeholder="Notes (facultatif)"
    />

    <button type="submit">Ajouter</button>
  </form>

  <hr />

  <!-- ğŸŸ¨ Liste des tÃ¢ches -->
  <ul class="tasks-list" *ngIf="tasks$ | async as tasks; else noTasks">
    <li *ngFor="let t of tasks" [class.done]="t.done">
      <div class="task-item">
        <input
          type="checkbox"
          [checked]="t.done"
          (change)="toggleTask(t.id)"
        />

        <div class="task-content">
          <span class="task-title">{{ t.title }}</span>
          <small *ngIf="t.due" class="task-due">ğŸ“… {{ t.due }}</small>
          <p *ngIf="t.notes" class="task-notes">{{ t.notes }}</p>
        </div>

        <button class="delete-btn" (click)="removeTask(t.id)">âœ•</button>
      </div>
    </li>
  </ul>

  <!-- ğŸŸ§ Message quand aucune tÃ¢che -->
  <ng-template #noTasks>
    <p class="empty">Aucune tÃ¢che pour le moment.</p>
  </ng-template>

  <!-- ğŸŸ¥ Bouton pour supprimer les tÃ¢ches terminÃ©es -->
  <div class="clear-section">
    <button (click)="clearDoneTasks()">Supprimer les tÃ¢ches terminÃ©es</button>
  </div>
</div>
